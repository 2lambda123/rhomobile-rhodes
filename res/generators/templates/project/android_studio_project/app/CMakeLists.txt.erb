cmake_minimum_required(VERSION 3.4.1)

set(CMAKE_CXX_FLAGS_DEBUG "-U_FORTIFY_SOURCE -D_FORTIFY_SOURCE=0 ${CMAKE_CXX_FLAGS_DEBUG} -U_FORTIFY_SOURCE -D_FORTIFY_SOURCE=0")
set(CMAKE_CXX_FLAGS_RELEASE "-U_FORTIFY_SOURCE -D_FORTIFY_SOURCE=0 ${CMAKE_CXX_FLAGS_RELEASE} -U_FORTIFY_SOURCE -D_FORTIFY_SOURCE=0")


PROJECT(RhodesProject)
set(CMAKE_BUILD_TYPE Debug)

list(REMOVE_ITEM ANDROID_COMPILER_FLAGS -D_FORTIFY_SOURCE=2)

list(REMOVE_ITEM CMAKE_CXX_FLAGS_DEBUG -D_FORTIFY_SOURCE)
list(REMOVE_ITEM CMAKE_CXX_FLAGS_RELEASE -D_FORTIFY_SOURCE)

set(CMAKE_CXX_FLAGS_DEBUG "-U_FORTIFY_SOURCE -D_FORTIFY_SOURCE=0 ${CMAKE_CXX_FLAGS_DEBUG} -U_FORTIFY_SOURCE -D_FORTIFY_SOURCE=0")
set(CMAKE_CXX_FLAGS_RELEASE "-U_FORTIFY_SOURCE -D_FORTIFY_SOURCE=0 ${CMAKE_CXX_FLAGS_RELEASE} -U_FORTIFY_SOURCE -D_FORTIFY_SOURCE=0")

<%= @externalDeps %>

add_subdirectory(./curl)
add_subdirectory(./ruby)
add_subdirectory(./sqlite)
add_subdirectory(./json)
add_subdirectory(./rholog)
add_subdirectory(./rhocommon)
add_subdirectory(./rhodb)
add_subdirectory(./rhosync)
add_subdirectory(./rhodes)
<%= @extensionsDeps %>